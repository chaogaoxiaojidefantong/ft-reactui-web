(this["webpackJsonpft-reactui"]=this["webpackJsonpft-reactui"]||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(2),i=n(4),o=n(3),u=n(5),c=n(0),s=n.n(c),l=(n(50),s.a.createContext("light")),h=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){this.context;return s.a.createElement(c.Fragment,null,s.a.createElement("button",null,this.props.children))}}]),t}(c.Component);h.contextType=l;var f=h,p=new(function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"removeSpace",value:function(e){return e.replace(/\s+/g,"")}},{key:"mobileReg",value:function(e){return/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/.test(e)}},{key:"indexofRes",value:function(e,t){return-1!=e.indexOf(t)}},{key:"randomMdDe",value:function(e){var t=e.length;return e.substring(0,t-6)}},{key:"randomMd",value:function(e){return e+this.randomWord(!1,6,12)}},{key:"getHtmlBody",value:function(e){var t=e.search("<body>"),n=e.search("</body>")+7,a=e.substring(t,n);return a=a.replace(/[\n]/g,"")}},{key:"randomWord",value:function(e,t,n){var a="",r=t,i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];e&&(r=Math.round(Math.random()*(n-t))+t);for(var o=0;o<r;o++){a+=i[Math.round(Math.random()*(i.length-1))]}return a}}]),e}()),d=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"verifyObj",value:function(e){var t=!1;return Object.keys(e).forEach((function(n){e[n].replace(/\s+/g,"")||(t=!0)})),t}},{key:"deleteNull",value:function(e){var t={};return Object.keys(e).forEach((function(n){var a=e[n];null!=a&&void 0!=a&&p.removeSpace(a+"")&&(t[n]=a)})),t}},{key:"clearObj",value:function(e){var t={};return Object.keys(e).forEach((function(e){t[e]=""})),t}}]),e}();n.d(t,"FtButton",(function(){return f})),n.d(t,"stringUtil",(function(){return p})),n.d(t,"ObjUtil",(function(){return d}))},43:function(e,t,n){e.exports=n(88)},48:function(e,t,n){},50:function(e,t,n){var a=n(51);"string"===typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(16)(a,r);a.locals&&(e.exports=a.locals)},51:function(e,t,n){(e.exports=n(15)(!1)).push([e.i,"",""])},81:function(e,t,n){var a=n(82);"string"===typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(16)(a,r);a.locals&&(e.exports=a.locals)},82:function(e,t,n){(e.exports=n(15)(!1)).push([e.i,".home {\n  background-color: #e8e8e8;\n  min-height: 100vh;\n}\n.home-canteen-card {\n  min-height: 200px;\n}\n",""])},83:function(e,t,n){var a=n(84);"string"===typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(16)(a,r);a.locals&&(e.exports=a.locals)},84:function(e,t,n){(e.exports=n(15)(!1)).push([e.i,".FtInput input {\n  color: #515a6e;\n  border: 1px solid #dcdee2;\n}\n",""])},88:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),o=n.n(i);n(48),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(49);var u=n(1),c=n(2),s=n(4),l=n(3),h=n(5),f=n(93),p=n(17),d=n.n(p),v=new function e(){Object(u.a)(this,e),this.dev="http://39.105.190.207:8181/api/",this.pro="http://39.105.190.207:7775/api/",this.cookieExpires=1/6,this.successCode=200,this.failCode=400,this.errMsg="\u670d\u52a1\u5668\u5185\u90e8\u51fa\u9519"},m=n(14),b=function(e){e&&(e=m.stringUtil.randomMd(e)),d.a.set("userToken",e,{expires:v.cookieExpires})},y=function(){var e=d.a.get("userToken");return e?m.stringUtil.randomMdDe(e):null},g=function(){function e(){Object(u.a)(this,e),this.isAuthenticated=!1,null!=y()&&(this.isAuthenticated=!0)}return Object(c.a)(e,[{key:"authenticate",value:function(e){this.isAuthenticated=!0,setTimeout(e,100)}},{key:"signout",value:function(e){this.isAuthenticated=!1,localStorage.clear(),b(""),setTimeout(e,100)}}]),e}(),O=n(13),j=n(38),k=n.n(j),w=n(18),E=n.n(w),C=(new m.ObjUtil,new(function(){function e(t){Object(u.a)(this,e),this.baseUrl="",this.baseUrl=t}return Object(c.a)(e,[{key:"getInsideConfig",value:function(){return{withCredentials:!0,baseURL:this.baseUrl,paramsSerializer:function(e){if(e.levelToken)delete e.levelToken;else{var t={token:y()};e=Object(O.a)({},e,{},t)}return E.a.stringify(e)},headers:{"Content-Type":"application/x-www-form-urlencoded"}}}},{key:"interceptor",value:function(e){e.interceptors.request.use((function(e){return e.data=E.a.stringify(e.data),e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){var t=e.data;return 200!==e.status?(alert("\u670d\u52a1\u5668\u5185\u90e8\u51fa\u9519"),"\u670d\u52a1\u5668\u5185\u90e8\u51fa\u9519"):t}),(function(e){return Promise.reject("\u670d\u52a1\u5668\u5185\u90e8\u51fa\u9519")}))}},{key:"request",value:function(e){var t=k.a.create(),n=Object.assign(this.getInsideConfig(),e);return this.interceptor(t),t(n)}},{key:"filterConfig",value:function(e){var t=e.data;return t.levelCredentials&&(e.withCredentials=!1,delete t.levelCredentials),t.responseType&&(e.responseType=t.responseType,delete t.responseType),e.data=t,e}}]),e}())(v.pro)),x=new function e(){Object(u.a)(this,e),this.getLoginMessage=function(e){return C.request({url:"/adminServiceZuul/User/login",method:"post",data:e})}},U=new(function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,[{key:"setUser",value:function(e){localStorage.setItem("user",JSON.stringify(e))}},{key:"getUser",value:function(){var e=localStorage.getItem("user");return e=e,JSON.parse(e)}}]),e}()),M=new(function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,[{key:"login",value:function(e){return new Promise((function(t,n){x.getLoginMessage(e).then((function(e){var n=e;if(200==n.status){var a=n.data;b(a.token),U.setUser(a.user),t(n.msg)}}),(function(e){return n("fail")}))}))}}]),e}()),S=n(92),D=n(11),T=Object(D.a)({}),I=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(s.a)(this,Object(l.a)(t).call(this,{}))).state={hasError:!1},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}]),t}(a.Component),W=new g,A=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,{}))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"submit",value:function(e){var t=this;Promise.resolve().then(n.bind(null,14)).then((function(n){n.stringUtil.removeSpace(e.pwd)?t.sendData(e):S.a.warn("\u4e0d\u53ef\u4e3a\u7a7a\u503c")}))}},{key:"sendData",value:function(e){var t={userPwd:e.pwd,userEmail:e.email};M.login(t).then((function(e){var t=e;S.a.success(t),W.authenticate(T.push("/"))}),(function(e){S.a.error(e)}))}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(I,null))}}]),t}(a.Component);A.displayName=void 0;var N,P=A,R=(n(81),function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,{}))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}}]),Object(c.a)(t,[{key:"test",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"home"},"home")}}]),t}(a.Component)),F=(n(83),r.a.forwardRef((function(e,t){return null})),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={styles:{},value:""},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChage",value:function(e){this.props.onInputChange(e.target.value)}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){var e=this.state.styles;if(this.props.width){e=Object(O.a)({},e,{},{width:this.props.width});var t=Object(O.a)({},this.state,{},{styles:e});this.setState(t)}if(this.props.height){e=Object(O.a)({},e,{},{height:this.props.height});var n=Object(O.a)({},this.state,{},{styles:e});this.setState(n)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"FtInput"},r.a.createElement("input",{type:"text",onChange:this.handleChage.bind(this),value:this.props.value,style:this.state.styles,ref:this.props.inputRef}))}}]),t}(a.Component)),B=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={width:"200px",height:"100px"},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"\u5c3e\u90e8",r.a.createElement(F,this.state))}}]),t}(a.Component),J=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(){}},{key:"componentDidCatch",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f.b,{history:T},r.a.createElement(f.c,null,r.a.createElement(f.a,{component:P,exact:!0,path:"/login"}),r.a.createElement(f.a,{component:R,exact:!0,path:"/"})),r.a.createElement(B,null)))}}]),t}(a.Component);N=J,o.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.87e2cde7.chunk.js.map